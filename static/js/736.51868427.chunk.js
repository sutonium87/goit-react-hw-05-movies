"use strict";(self.webpackChunkreact_hw_05_movies=self.webpackChunkreact_hw_05_movies||[]).push([[736],{9155:function(e,n,t){t.d(n,{Z:function(){return i}});var a="MoviesList_gallery__Nw0Bb",r=t(184);function i(e){var n=e.children;return(0,r.jsxs)("ul",{className:a,children:[n," "]})}},4567:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(7689),r=t(1087),i={item:"MoviesListItem_item__4rNsZ",title:"MoviesListItem_title__sM-ZN",link:"MoviesListItem_link__cb8vw",image_wrapper:"MoviesListItem_image_wrapper__Qy8Mw",description:"MoviesListItem_description__nf87f",genres:"MoviesListItem_genres__QPD00",genres__item:"MoviesListItem_genres__item__FsD7V",info:"MoviesListItem_info__dxW6k",rating:"MoviesListItem_rating__DRQ+7"},c=t(184);function s(e){var n,t=e.data,s=(0,a.TH)(),o=null!==(n=new URLSearchParams(s.search).get("query"))&&void 0!==n?n:"";return t.map((function(e){var n=e.title,t=e.id,a=e.poster_path,u=e.genres,m=e.release_date,l=e.vote_average;return(0,c.jsx)("li",{className:i.item,children:(0,c.jsxs)(r.rU,{to:"/react-hw-05-movies/movies/".concat(t),state:{from:s,search:o},className:i.link,children:[(0,c.jsx)("div",{className:i.image_wrapper,children:a?(0,c.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(a),alt:n,className:i.image}):(0,c.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg",alt:n,className:i.image})}),(0,c.jsxs)("div",{className:i.description,children:[(0,c.jsx)("h3",{className:i.title,children:n}),(0,c.jsx)("ul",{className:i.genres,children:u.length>0?u.map((function(e,n){var t=e.id,a=e.name;return(0,c.jsx)("li",{className:i.genres__item,children:(n?", ":"")+a},t)})):(0,c.jsx)("p",{className:i.genres__item,children:"Other"})}),(0,c.jsxs)("p",{className:i.info,children:[0!==l?(0,c.jsxs)("span",{className:i.rating,children:[(0,c.jsx)("i",{className:"fa fa-star-o"}),"\xa0",l]}):(0,c.jsxs)("span",{className:i.rating,children:[(0,c.jsx)("i",{className:"fa fa-star-o"}),"\xa0--"]}),""!==m?(0,c.jsx)("span",{className:i.date,children:parseInt(m)}):(0,c.jsx)("span",{className:i.date,children:"--"})]})]})]})},t)}))}},2736:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var a=t(9439),r=t(2791),i=t(7689),c="SearchField_form__X+C6Z",s="SearchField_input__pGwyh",o="SearchField_button__RaTD9",u="SearchField_icon__EAryr",m=t(8174),l=t(2800),d=t(184);var f=function(e){var n=(0,r.useState)(""),t=(0,a.Z)(n,2),i=t[0],f=t[1];return(0,d.jsxs)("form",{className:c,onSubmit:function(n){if(n.preventDefault(),""===i.trim())return f(""),m.Am.info("Input your search query");e.onSubmit(i),f("")},children:[(0,d.jsx)("input",{className:s,type:"text",autoComplete:"off",name:"searchQuery",placeholder:"Search movie...",value:i,onChange:function(e){f(e.currentTarget.value.toLowerCase())}}),(0,d.jsx)("button",{type:"submit",className:o,children:(0,d.jsx)("svg",{className:u,width:"16",height:"16","aria-label":"logo",children:(0,d.jsx)("use",{href:"".concat(l.Z,"#search")})})})]})},h=t(3692),v=t(9155),_=t(4567),p=t(3626);function g(e){var n=e.searchQuery,t=(0,r.useState)([]),i=(0,a.Z)(t,2),c=i[0],s=i[1];return(0,r.useEffect)((function(){""!==n&&(0,h.vw)(n).then((function(e){if(!(e.total_results>0))return s([]),m.Am.error("Sorry, there are no movies matching your search query. Please try again.");s((0,p.Z)(e.results))}))}),[n]),(0,d.jsx)(v.Z,{children:(0,d.jsx)(_.Z,{data:c})})}function x(){var e,n=(0,r.useState)(""),t=(0,a.Z)(n,2),c=t[0],s=t[1],o=(0,i.s0)(),u=(0,i.TH)(),l=null!==(e=new URLSearchParams(u.search).get("query"))&&void 0!==e?e:"";return(0,r.useEffect)((function(){""!==l&&s(l)}),[l]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f,{onSubmit:function(e){if(c===e)return m.Am.info("Input new search query.");o("".concat(u.pathname,"?query=").concat(e)),s(e)}}),(0,d.jsx)(g,{searchQuery:c})]})}},5491:function(e,n,t){t.d(n,{M:function(){return a}});var a=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}]},3692:function(e,n,t){t.d(n,{Hx:function(){return h},Y5:function(){return d},vw:function(){return l},wr:function(){return m},xc:function(){return f}});var a=t(5861),r=t(4687),i=t.n(r),c="https://api.themoviedb.org/3",s="?api_key=256931b667b455c0d040d58938728ff6";function o(){return u.apply(this,arguments)}function u(){return u=(0,a.Z)(i().mark((function e(){var n,t,a,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:"",t=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(n,t);case 4:if(!(a=e.sent).ok){e.next=11;break}return e.next=8,a.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",n="/trending/movie/week";return o("".concat(c).concat(n).concat(s,"&page=").concat(e))}function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",t="/search/movie",a="&language=en-US&include_adult=false";return o("".concat(c).concat(t).concat(s,"&query=").concat(e,"&page=").concat(n).concat(a))}function d(e){return o("".concat(c).concat("/movie/").concat(e).concat(s).concat("&language=en-US"))}function f(e){return o("".concat(c).concat("/movie/").concat(e,"/credits").concat(s).concat("&language=en-US"))}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",t="/movie/",a="&language=en-US";return o("".concat(c).concat(t).concat(e,"/reviews").concat(s).concat(a,"&page=").concat(n))}},3626:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t(1413),r=t(5491);function i(e){return e.map((function(e){var n=function(e,n){var t=[];return e.map((function(e){return n.includes(e.id)&&t.push(e),t}))}(r.M,e.genre_ids)[0];if(n.length>3){n.splice(2,5);n.push({id:777,name:"Other"})}return(0,a.Z)((0,a.Z)({},e),{},{genres:n})}))}},5861:function(e,n,t){function a(e,n,t,a,r,i,c){try{var s=e[i](c),o=s.value}catch(u){return void t(u)}s.done?n(o):Promise.resolve(o).then(a,r)}function r(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var c=e.apply(n,t);function s(e){a(c,r,i,s,o,"next",e)}function o(e){a(c,r,i,s,o,"throw",e)}s(void 0)}))}}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=736.51868427.chunk.js.map